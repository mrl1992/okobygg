import{_ as C}from"./BfaYJuzt.js";import{u as V}from"./L08-t3z4.js";import{g as w,k as p,o as d,v as k,w as l,b as r,l as j,d as f,t as c,K as B,y as S,a as n,m as b,A as T,H as g,j as $,L as A,G as N,q as x,M as P,c as _,F as y,r as v,n as h,N as z,s as F}from"#entry";import"./CxjXdP5H.js";const K={class:"price-text"},L={style:{margin:"0",color:"inherit","text-align":"left",display:"-webkit-box","-webkit-line-clamp":"4","line-clamp":"4","-webkit-box-orient":"vertical",overflow:"hidden","text-overflow":"ellipsis","line-height":"1.25rem","min-height":"calc(1.25rem * 4)"}},U={style:{display:"flex","justify-content":"center","margin-top":"auto",padding:"12px 0 16px 0",flex:"0 0 auto"}},M=w({__name:"ProductCard",props:{product:{}},setup(m){const a=V(),i=()=>{a.addToCart(m.product)};return(e,s)=>{const t=C;return d(),p(k,{class:"d-flex flex-column",style:{flex:"0 0 320px",width:"360px",height:"570px","box-sizing":"border-box"}},{default:l(()=>[r(t,{to:`/products/${e.product.slug}`,style:{"text-decoration":"none",color:"inherit"}},{default:l(()=>[r(j,{src:e.product.imageUrl,alt:e.product.title,height:"300",class:"w-100",cover:"",style:{"min-height":"300px","aspect-ratio":"16/9","object-fit":"cover"}},null,8,["src","alt"])]),_:1},8,["to"]),r(S,{class:"pt-3 pb-0 d-flex justify-space-between align-center"},{default:l(()=>[f(c(e.product.title)+" ",1),r(B,{color:"primary",variant:"tonal",size:"small"},{default:l(()=>[f(" # "+c(e.product.category?.title),1)]),_:1})]),_:1}),r(T,{class:"mx-2",style:{padding:"8px",display:"flex","flex-direction":"column",flex:"1 1 auto","min-height":"0"}},{default:l(()=>[n("span",K," Pris: "+c(e.product.price)+" kr ",1),n("p",L,c(e.product.description),1),n("div",U,[r(b,{onClick:s[0]||(s[0]=u=>i()),color:"primary",class:"ma-4"},{default:l(()=>[...s[1]||(s[1]=[f("KjÃ¸p",-1)])]),_:1})])]),_:1})]),_:1})}}}),q={style:{position:"relative","z-index":"1"}},D={class:"d-none d-md-flex w-100",style:{"background-color":"#f5f5f5",padding:"8px","border-radius":"8px"}},E={class:"d-flex d-md-none w-100"},J=w({__name:"index",setup(m){const a=V(),i=g([]),e=g("Alle");return $(async()=>{a&&(await a.fetchProducts(),i.value=a.products.sort((s,t)=>(s.category?.title??"").localeCompare(t.category?.title??"")),await a.fetchCategories(),a.categories.unshift({_id:"all",title:"Alle",description:"All products"}))}),A(e,s=>{s==="Alle"?i.value=a.products.sort((t,u)=>(t.category?.title??"").localeCompare(u.category?.title??"")):i.value=a.products.filter(t=>t.category?.title===s)}),(s,t)=>{const u=M;return d(),p(N,null,{default:l(()=>[n("div",q,[r(x,{class:"d-flex justify-center my-4"},{default:l(()=>[n("div",D,[r(P,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=o=>e.value=o),color:"deep-purple-accent-3",rounded:"md",group:"",class:"flex-grow-1"},{default:l(()=>[(d(!0),_(y,null,v(h(a).categories,o=>(d(),p(b,{key:o._id,class:"ma-2",color:"primary",outlined:"",value:o.title,toggle:"",mandatory:""},{default:l(()=>[f(c(o?.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),n("div",E,[r(z,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=o=>e.value=o),items:h(a).categories.map(o=>o.title),label:"Kategori",outlined:"",dense:"","hide-details":"",class:"ma-2 flex-grow-1",style:{"background-color":"#f5f5f5","border-radius":"8px"}},null,8,["modelValue","items"])])]),_:1}),r(x,{class:"d-flex flex-wrap"},{default:l(()=>[(d(!0),_(y,null,v(i.value,o=>(d(),p(F,{key:o._id},{default:l(()=>[r(u,{product:o},null,8,["product"])]),_:2},1024))),128))]),_:1})])]),_:1})}}});export{J as default};
