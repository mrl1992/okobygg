import{u as k}from"./L08-t3z4.js";import{g as w,H as y,L as V,U as b,c as i,o as c,r as B,b as l,a as u,l as S,Y as p,t as d,d as f,w as m,C as _,m as v,F}from"#entry";const N={class:"mb-1"},O={key:0,class:"mb-1 d-flex align-center"},T={class:"mx-2"},q={key:1,class:"font-weight-bold mt-2"},U=w({__name:"CartItem",setup(z){const a=k(),r=y([...new Set(a.cartItems.map(s=>s._id))]);V(()=>a.cartItems.map(s=>s._id),s=>{const e=[...new Set(s)];for(const t of e)r.value.includes(t)||r.value.push(t);r.value=r.value.filter(t=>e.includes(t))},{immediate:!0});const I=b(()=>r.value);function o(s){return a.cartItems.filter(e=>e._id===s).length}function n(s){return a.cartItems.find(e=>e._id===s)}function g(s){const e=n(s);e&&a.addToCart?.(e)}function x(s){C(s)}function C(s){const e=a.cartItems.findIndex(t=>t._id===s);return e<0?!1:(a.cartItems.splice(e,1),!0)}return console.log("ðŸš€ cartItems:",a.cartItems),(s,e)=>(c(!0),i(F,null,B(I.value,t=>(c(),i("div",{key:t,class:"d-flex pa-4 align-start"},[l(S,{src:n(t)?.imageUrl,alt:n(t)?.title,width:"120",height:"120",class:"ma-0 pa-0"},null,8,["src","alt"]),u("div",null,[u("h4",N,d(n(t)?.category?.title!=="TilbehÃ¸r"?n(t)?.category?.title+" - "+n(t)?.title:n(t)?.title),1),o(t)>0?(c(),i("p",O,[e[0]||(e[0]=f(" Antall: ",-1)),u("span",T,d(o(t)),1)])):p("",!0),u("div",null,[l(v,{size:"x-small",variant:"outlined",onClick:h=>x(t)},{default:m(()=>[l(_,{small:""},{default:m(()=>[...e[1]||(e[1]=[f("mdi-minus",-1)])]),_:1})]),_:1},8,["onClick"]),l(v,{class:"ml-2",size:"x-small",variant:"outlined",onClick:h=>g(t)},{default:m(()=>[l(_,{small:""},{default:m(()=>[...e[2]||(e[2]=[f("mdi-plus",-1)])]),_:1})]),_:1},8,["onClick"])]),o(t)>=1?(c(),i("p",q," Pris: "+d((o(t)*(n(t)?.price??0)).toFixed(2)),1)):p("",!0)])]))),128))}});export{U as _};
